- {{cards [[MCU-C]] }}
- #card #MCU-C 单片机C语言知识：用预处理指令#define 声明一个常数，用以表明1年中有多少秒（忽略闰年问题）
  template:: MCUC
	- `#define SECONDS_PER_YEAR (60 * 60 * 24 * 365)UL`
	- 考查：
		- 1) `#define` 语法的基本知识（例如：不能以分号结束，括号的使用，等等）
		- 2) 懂得预处理器将为你计算常数表达式的值，因此直接写出你如何计算一年中有多少秒而不是计算出实际的值，是更清晰而没有代价的。
		- 3) 意识到这个表达式将使一个16位机的整型数溢出-因此要用到长整型符号L,告诉编译器这个常数是的长整型数。
		- 4) 如果你在你的表达式中用到UL（表示无符号长整型），那么你有了一个好的起点。
- #card #MCU-C 单片机C语言知识：写一个"标准"宏MIN ，这个宏输入两个参数并返回较小的一个。
	- `#define MIN(A,B) （（A） <= (B) ? (A) : (B))`
	- 这个测试是为下面的目的而设的：
		- 1) 标识`#define`在宏中应用的基本知识。这是很重要的。因为在 嵌入(inline)操作符 变为标准C的一部分之前，宏是方便产生嵌入代码的唯一方法，对于嵌入式系统来说，为了能达到要求的性能，嵌入代码经常是必须的方法。
		- 2) 三重条件操作符的知识。这个操作符存在C语言中的原因是它使得编译器能产生比if-then-else更优的代码，了解这个用法是很重要的。
		- 3) 懂得在宏中小心地把参数用括号括起来
		- 4) 我也用这个问题开始讨论宏的副作用，例如：当你写下面的代码时会发生什么事？
			- least = MIN(*p++, b);
- #card #MCU-C 单片机C语言知识：预处理器标识#error的目的是什么？
	- 跳出一个编译错误，其目的就是保证程序是按照你所设想的那样进行编译的。
- #card #MCU-C 单片机C语言知识：嵌入式系统中经常要用到无限循环，你怎么样用C编写死循环呢？
	- for,while,goto
	- 当知道`for(;;)`更好时，考查（是不是被教着这么做的，或者示例这么做的）：
		- 1) 哪个更优？为什么用`for(;;){}`
			- `for( ; ; )`效率略高于`while(1)`
			  因为编译器在执行的时候会对语句进行优化， `for( ; ; )`是空语句所以会直接执行循环体内容，而编译器需要对`while(1)`进行判断。
			- 也就是说`for(;;)`比`while(1)`在编辑器优化后，执行更少的指令，不占用寄存器，而且没有判断跳转。
- #card #MCU-C 单片机C语言知识：用变量a给出下面的定义
	- a) 一个整型数（An integer）
		- `int a; // An integer`
	- b)一个指向整型数的指针（ A pointer to an integer）
		- `int *a; // A pointer to an integer`
	- c)一个指向指针的的指针，它指向的指针是指向一个整型数（ A pointer to a pointer to an integer）
		- `int **a; // A pointer to a pointer to an integer`
	- d)一个有10个整型数的数组（ An array of 10 integers）
		- `int a[10]; // An array of 10 integers`
	- e) 一个有10个指针的数组，该指针是指向一个整型数的。（An array of 10 pointers to integers）
		- `int *a[10]; // An array of 10 pointers to integers`
	- f) 一个指向有10个整型数数组的指针（ A pointer to an array of 10 integers）
		- `int (*a)[10]; // A pointer to an array of 10 integers`
	- g) 一个指向函数的指针，该函数有一个整型参数并返回一个整型数（A pointer to a function that takes an integer as an argument and returns an integer）
		- `int (*a)(int); // A pointer to a function a that takes an integer argument and returns an integer`
	- h) 一个有10个指针的数组，该指针指向一个函数，该函数有一个整型参数并返回一个整型数（ An array of ten pointers to functions that take an integer argument and return an integer ）
		- `int (*a[10])(int); // An array of 10 pointers to functions that take an integer argument and return an integer`